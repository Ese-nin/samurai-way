"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[488],{2164:function(e,n,r){r.r(n);var t=r(9439),s=r(2791),i=r(8605),u=r(6664),a=r(184),c=function(){var e=(0,i.CG)((function(e){return e.chat.status})),n=(0,i.TL)();return(0,s.useEffect)((function(){return n((0,u.oP)()),function(){n((0,u.w8)())}}),[]),(0,a.jsxs)("div",{children:["error"===e&&(0,a.jsx)("div",{children:"Reconnect failed. Refresh a page"}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o,{}),(0,a.jsx)(f,{})]})]})},o=function(){var e=(0,i.CG)((function(e){return e.chat.messages})),n=(0,s.useRef)(null),r=(0,s.useState)(!0),u=(0,t.Z)(r,2),c=u[0],o=u[1];(0,s.useEffect)((function(){var e;c&&(null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]);return(0,a.jsxs)("div",{style:{height:"450px",overflowY:"auto"},onScroll:function(e){var n=e.currentTarget;Math.abs(n.scrollHeight-n.scrollTop-n.clientHeight)<50?!c&&o(!0):c&&o(!1)},children:[e.map((function(e,n){return(0,a.jsx)(l,{message:e},n)})),(0,a.jsx)("div",{ref:n})]})},l=(0,s.memo)((function(e){var n=e.message;return(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{width:"30px",src:n.photo,alt:"avatar"})," ",(0,a.jsx)("b",{children:n.userName}),(0,a.jsx)("br",{}),n.message,(0,a.jsx)("hr",{})]})})),f=function(){var e=(0,s.useState)(""),n=(0,t.Z)(e,2),r=n[0],c=n[1],o=(0,i.CG)((function(e){return e.chat.status})),l=(0,i.TL)(),f=function(){r&&(l((0,u.bG)(r)),c(""))};return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)("textarea",{onKeyDown:function(e){e.shiftKey&&"Enter"===e.key&&f()},value:r,onChange:function(e){return c(e.currentTarget.value)}})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{disabled:"ready"!==o,onClick:f,children:"Send"})})]})};n.default=function(){return(0,a.jsx)("div",{children:(0,a.jsx)(c,{})})}}}]);
//# sourceMappingURL=488.8e4aaf1d.chunk.js.map