"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[60],{8414:function(n,e,r){r.r(e),r.d(e,{default:function(){return F}});var o=r(5671),t=r(3144),s=r(136),i=r(7277),l=r(2791),u=r(8687),a=r(4409),g=r(5987),c=r(885),f="Pagination_page__tqsA+",p="Pagination_selectedPage__gaVeS",h="Pagination_pagination__2vogL",d=r(184),P=function(n){for(var e=n.totalItemsCount,r=n.pageSize,o=n.onPageChanged,t=n.currentPage,s=n.portionSize,i=Math.ceil(e/r),u=[],a=1;a<=i;a++)u.push(a);var g=Math.ceil(i/s),P=(0,l.useState)(1),w=(0,c.Z)(P,2),j=w[0],v=w[1],x=(j-1)*s+1,C=j*s;return(0,d.jsxs)("div",{className:h,children:[j>1&&(0,d.jsx)("button",{onClick:function(){v(j-1)},children:"prev"}),u.filter((function(n){return n>=x&&n<=C})).map((function(n){return(0,d.jsx)("span",{className:n===t?p:f,onClick:function(){return o(n)},children:n},n)})),g>j&&(0,d.jsx)("button",{onClick:function(){v(j+1)},children:"next"})]})},w="users_userPhoto__uDe2x",j=r.p+"static/media/user.788710b7d8ff90f1302c.png",v=r(1523),x=function(n){var e=n.user,r=n.followingInProgress,o=n.unfollow,t=n.follow;return(0,d.jsxs)("div",{children:[(0,d.jsxs)("span",{children:[(0,d.jsx)("div",{children:(0,d.jsx)(v.OL,{to:"/profile/"+e.id,children:(0,d.jsx)("img",{className:w,src:null!==e.photos.small?e.photos.small:j,alt:""})})}),(0,d.jsx)("div",{children:e.followed?(0,d.jsx)("button",{disabled:r.some((function(n){return n===e.id})),onClick:function(){return o(e.id)},children:"Unfollow"}):(0,d.jsx)("button",{disabled:r.some((function(n){return n===e.id})),onClick:function(){return t(e.id)},children:"Follow"})})]}),(0,d.jsx)("span",{children:(0,d.jsxs)("span",{children:[(0,d.jsx)("div",{children:e.name}),(0,d.jsx)("div",{children:e.status})]})})]})},C=["totalUsersCount","pageSize","currentPage","onPageChanged","followingInProgress","follow","unfollow"],m=function(n){var e=n.totalUsersCount,r=n.pageSize,o=n.currentPage,t=n.onPageChanged,s=n.followingInProgress,i=n.follow,l=n.unfollow,u=(0,g.Z)(n,C);return(0,d.jsxs)("div",{children:[(0,d.jsx)(P,{totalItemsCount:e,pageSize:r,currentPage:o,onPageChanged:t,portionSize:10}),u.users.map((function(n){return(0,d.jsx)(x,{user:n,followingInProgress:s,follow:i,unfollow:l},n.id)}))]})},S=r(3035),b=function(n){return n.usersPage.users},I=function(n){return n.usersPage.pageSize},_=function(n){return n.usersPage.totalUsersCount},z=function(n){return n.usersPage.currentPage},y=function(n){return n.usersPage.isFetching},k=function(n){return n.usersPage.followingInProgress},U=function(n){(0,s.Z)(r,n);var e=(0,i.Z)(r);function r(){var n;(0,o.Z)(this,r);for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return(n=e.call.apply(e,[this].concat(s))).onPageChanged=function(e){var r=n.props.pageSize;n.props.setCurrentPage(e),n.props.getUsers(e,r)},n}return(0,t.Z)(r,[{key:"componentDidMount",value:function(){var n=this.props,e=n.currentPage,r=n.pageSize;this.props.getUsers(e,r)}},{key:"render",value:function(){return(0,d.jsxs)(d.Fragment,{children:[this.props.isFetching?(0,d.jsx)(S.p,{}):null,(0,d.jsx)(m,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress,toggleIsFollowing:this.props.toggleIsFollowing})]})}}]),r}(l.Component),F=(0,u.$j)((function(n){return{users:b(n),pageSize:I(n),totalUsersCount:_(n),currentPage:z(n),isFetching:y(n),followingInProgress:k(n)}}),{follow:a.ZN,unfollow:a.fv,setCurrentPage:a.D4,toggleIsFollowing:a.zF,getUsers:a.D7})(U)},5987:function(n,e,r){r.d(e,{Z:function(){return t}});var o=r(3366);function t(n,e){if(null==n)return{};var r,t,s=(0,o.Z)(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}}}]);
//# sourceMappingURL=60.16e2e2ed.chunk.js.map